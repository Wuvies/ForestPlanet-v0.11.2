<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <!--<meta name=description content="This site was generated with Anima. www.animaapp.com"/>-->
    <!-- <link rel="shortcut icon" type=image/png href="https://animaproject.s3.amazonaws.com/home/favicon.png" /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <link rel="shortcut icon" type="image/png" href="https://animaproject.s3.amazonaws.com/home/favicon.png" />
    <meta name="og:type" content="website" />
    <meta name="twitter:card" content="photo" />
    <link rel="stylesheet" type="text/css" href="css/stories-desktop-all-breakpoints.css" />
    <link rel="stylesheet" type="text/css" href="css/contact-us-mobile-overlay.css" />
    <link rel="stylesheet" type="text/css" href="css/menu-mobile.css" />
    <link rel="stylesheet" type="text/css" href="css/styleguide.css" />
    <link rel="stylesheet" type="text/css" href="css/globals.css" />
  </head>
  <body style="margin: 0; background: #fffffc">
    <input type="hidden" id="anPageName" name="page" value="stories-desktop-all-breakpoints" />
    <form class="stories-mobile screen" name="form8" action="form8" method="post">
      <header class="property-mobile">
        <div class="mobile-nav">
          <a href="index.html" aria-label="Home">
            <img src="img/logos/FP-Logomark-RGB.svg" class="rgb-logo" alt="RGB Logo">
          </a>
          <a onclick="loadMobileMenuOverlay(); return false;" class="menu-button" aria-label="Open menu" id="menuButton">
            <img src="img/menu.svg" class="menu" alt="Menu Icon">
          </a>
        </div>
      </header>
      <div class="main-content">
        <div class="hero">
          <div class="frame-301">
            <div class="heading">
              <h1 class="title">Our Stories</h1>
            </div>
              <div class="catagories">
                <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
            </div>
          </div>
          <div class="latest-story-1">
            <img class="rectangle-30" src="img/DSC00221.JPG" alt="Rectangle 30" />
            <div class="frame-211">
              <div class="frame-210">
                <div class="feb-16-2025 subtitle-2">FEB 16 2025</div>
                <p class="some-sort-of-story-t heading-3">Some Sort of Story title for the Latest Story Post</p>
              </div>
              <p class="ransome-lorem-ipsum body-2-regular">
                Ransome Lorem ipsum maybe that describes the contained article in a brief and concise way
              </p>
              <a href="story-desktop-all-breakpoints.html">
                <div class="secondary-button-salem secondary-button">
                  <div class="secondary-button-salem-text body-2-regular">Read</div>
                  <img class="chevron-right-1" src="img/chevron-right-15@2x.png" alt="Chevron Right" />
                </div>
              </a>
            </div>
          </div>
        </div>
        <div class="story-cards story">
          <div class="card-grid">
            <a href="story-desktop-all-breakpoints.html">
              <article class="story-card">
                <img class="story-card-image" src="img/rectangle-18-4@2x.png" alt="Rectangle 18" />
                <div class="story-card-content">
                  <div class="story-card-date subtitle-2">FEB 16 2025</div>
                  <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                  <p class="story-card-description body-2-regular">
                    Here would contain a brief introduction to the article like the first
                  </p>
                </div>
              </article>
            </a>
            <article class="story-card">
              <img class="story-card-image" src="img/rectangle-18-4@2x.png" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/rectangle-18-4@2x.png" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="quote-card">
              <div class="quote-card-content">
                <p class="quote-text heading-2-mobile">
                  The best time to plant a tree is 20 years ago. The second best time is NOW.
                </p>
                <div class="quote-attribution body-1-regular">- African Proverb</div>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/rectangle-18-4@2x.png" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/rectangle-18-4@2x.png" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="quote-card">
              <div class="quote-card-content">
                <p class="quote-text heading-2-mobile">
                  He who plants a tree plants hope.
                </p>
                <div class="quote-attribution body-1-regular">- Lucy Larcom</div>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/rectangle-18-4@2x.png" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="quote-card">
              <div class="quote-card-content">
                <p class="quote-text heading-2-mobile">
                  The creation of a thousand forests is in one acorn.
                </p>
                <div class="quote-attribution body-1-regular">- Ralph Waldo Emerson</div>
              </div>
            </article>
          </div>
          <div class="tertiary-button"><div class="default-8 default-20 body-2-regular">Load More</div></div>
        </div>
      </div>
      <footer class="footer">
        <div class="full-footer-frame footer-display">
          <div class="top-footer-frame footer-display">
            <img class="logo-1" src="img/FP-Logomark-RGB-Black.svg" alt="logo" />
            <div class="location">
              <p class="address body-2-regular">5028 Wisconsin Avenue NW Suite 100<br />Washington, DC 20016</p>
            </div>
              <div class="social-media-icons">
                <img class="facebook" src="img/facebook.svg" alt="Facebook" />
                <img class="linkedin" src="img/linkedin.svg" alt="Linkedin" />
               <!-- <img class="bluesky" src="img/bluesky.svg" alt="Bluesky" /> -->
                <img class="instagram" src="img/instagram.svg" alt="Instagram" />
                <img class="youtube" src="img/youtube.svg" alt="Youtube" />
              </div>
          </div>
          <div class="footer-links">
            <div class="link-frame">
              <div class="t-in subtitle-2">NON-PROFIT INFORMATION</div>
              <div class="footer-non-profit-awards footer-display">
                <img class="image-8" src="img/image-8@2x.png" alt="image 8" />
                <div class="footer-charity-nav-logo footer-display">
                  <div class="footer-charity-nav-logo-img footer-display">
                    <img
                      class="charity-nav_-logo_-ver-1"
                      src="img/charitynav-logo-ver-1.png"
                      alt="CharityNav_Logo_Ver 1"
                    />
                  </div>
                </div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">IRS 990 Form</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">IRS Determination Letter</div>
              </div>
            </div>
            <div class="link-frame">
              <div class="t-in subtitle-2">CONTACT INFORMATION</div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Contact Us</div>
              </div>
              <div class="tertiary-mirage-2-text body-2-regular">EIN: 81-5025238</div>
              <div class="tertiary-mirage-2-text body-2-regular">+1-202-792-8060</div>
            </div>
            <div class="link-frame">
              <div class="t-in subtitle-2">GET INVOLVED</div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Donate</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Partner</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Invite</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Connect</div>
              </div>
            </div>
            <div class="link-frame">
              <div class="t-in subtitle-2">RESOURCES</div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Stories</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Shop</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">About Us</div>
              </div>
            </div>
          </div>
          <div class="newsletter">
            <div class="join-our-newsletter heading-3">Join Our Newsletter</div>
            <div class="newsletter-input-frame footer-display">
              <div class="input">
                <div class="content-wrapper">
                  <div class="wrapper">
                    <div class="content-wrapper-1">
                      <input
                        class="content"
                        name="email"
                        placeholder="Your Email Address"
                        type="email"
                        required
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="secondary-button-fuchsia-blue secondary-button" onclick="document.forms['form13'].submit();">
                <div class="secondary-button-fuchsia-blue-text body-2-regular">Subscribe</div>
              </div>
            </div>
          </div>
          <p class="forest-planet-2025 body-2-regular">© ForestPlanet 2025. All rights reserved.</p>
        </div>
      </footer>
    </form>
    <form class="stories-desktop-all-breakpoints screen" name="form14" action="form14" method="post">
      <header class="header-romance">
        <div class="nav-bar">
          <a href="index.html">
            <img src="img/logos/FP-Wordmark-RGB.svg" class="rgb-wordmark" alt="ForestPlanet Logo">
          </a>
          <div class="menu">
            <a href="about-desktop-all-breakpoints.html">
              <div class="tertiary-button">
                <div class="tertiary-mirage body-2-regular">About</div>
              </div>
            </a>
            <a href="stories-desktop-all-breakpoints.html">
              <div class="tertiary-button">
                <div class="tertiary-mirage body-2-regular">Stories</div>
              </div>
            </a>
            <a onclick="ShowOverlay('contact-us', 'animate-appear');">
              <div class="tertiary-button">
                <div class="tertiary-mirage body-2-regular">Contact</div>
              </div>
            </a>
            <a href="partners-desktop-all-breakpoints.html">
              <div class="tertiary-button">
                <div class="tertiary-mirage body-2-regular">Partners</div>
              </div>
            </a>
            <a href="partner-desktop-all-breakpoints.html">
              <div class="secondary-button-salem secondary-button">
                <div class="secondary-button-salem-text body-2-regular">Partner</div>
              </div>
            </a>
            <a href="donate-desktop-all-breakpoints.html">
              <div class="primary-button-salem">
                <div class="primary-button-romance-text body-2-regular">Donate</div>
              </div>
            </a>
          </div>
        </div>
      </header>
      <div class="main-content-1">
        <div class="hero-1">
          <div class="frame-1 frame">
            <h1 class="title-1">Our Stories</h1>
            <div class="catagories-1">
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
              <article class="secondary-button-mirage secondary-button">
                <div class="secondary-button-mirage-text body-2-regular">Default</div>
              </article>
            </div>
          </div>
          <div class="latest-story">
            <img class="rectangle-30-1" src="img/DSC00221.JPG" alt="Rectangle 30" />
            <div class="frame-211-1">
              <div class="frame-210-1">
                <div class="feb-16-2025-1 subtitle-2">FEB 16 2025</div>
                <p class="some-sort-of-story-t-1 heading-3">Some Sort of Story title for the Latest Story Post</p>
              </div>
              <p class="ransome-lorem-ipsum-1 body-2-regular">
                Random Lorem ipsum maybe that describes the contained article in a brief and concise way
              </p>
              <a href="story-desktop-all-breakpoints.html">
                <div class="secondary-button-salem secondary-button">
                  <div class="secondary-button-salem-text body-2-regular">Read</div>
                  <img class="chevron-right-1" src="img/chevron-right-15@2x.png" alt="Chevron Right" />
                </div>
              </a>
            </div>
          </div>
        </div>
        <div class="story-cards-1">
          <div class="card-grid">
            <a href="story-desktop-all-breakpoints.html">
              <article class="story-card">
                <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
                <div class="story-card-content">
                  <div class="story-card-date subtitle-2">FEB 16 2025</div>
                  <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                  <p class="story-card-description body-2-regular">
                    Here would contain a brief introduction to the article like the first
                  </p>
                </div>
              </article>
            </a>
            <article class="story-card">
              <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="quote-card">
              <div class="quote-card-content">
                <p class="quote-text heading-3">
                  The best time to plant a tree is 20 years ago. The second best time is NOW.
                </p>
                <div class="quote-attribution body-1-regular">- African Proverb</div>
              </div>
            </article>
            <article class="quote-card">
              <div class="quote-card-content">
                <p class="quote-text heading-3">
                  He who plants a tree plants hope.
                </p>
                <div class="quote-attribution body-1-regular">- Lucy Larcom</div>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="quote-card">
              <div class="quote-card-content">
                <p class="quote-text heading-3">
                  The creation of a thousand forests is in one acorn.
                </p>
                <div class="quote-attribution body-1-regular">- Ralph Waldo Emerson</div>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
            <article class="quote-card">
              <div class="quote-card-content">
                <p class="quote-text heading-3">
                  Trees are poems that the earth writes upon the sky.
                </p>
                <div class="quote-attribution body-1-regular">- Kahlil Gibran</div>
              </div>
            </article>
            <article class="story-card">
              <img class="story-card-image" src="img/DSC00221.JPG" alt="Rectangle 18" />
              <div class="story-card-content">
                <div class="story-card-date subtitle-2">FEB 16 2025</div>
                <p class="story-card-title body-1-semibold">Title For Story Card Template</p>
                <p class="story-card-description body-2-regular">
                  Here would contain a brief introduction to the article like the first
                </p>
              </div>
            </article>
          </div>
          <div class="tertiary-button"><div class="default-34 default body-2-regular">Load More</div></div>
        </div>
      </div>
      <footer class="footer">
        <div class="full-footer-frame footer-display">
          <div class="top-footer-frame footer-display">
            <img class="logo-1" src="img/FP-Logomark-RGB-Black.svg" alt="logo" />
            <div class="location">
              <p class="address body-2-regular">5028 Wisconsin Avenue NW Suite 100<br />Washington, DC 20016</p>
            </div>
              <div class="social-media-icons">
                <img class="facebook" src="img/facebook.svg" alt="Facebook" />
                <img class="linkedin" src="img/linkedin.svg" alt="Linkedin" />
               <!-- <img class="bluesky" src="img/bluesky.svg" alt="Bluesky" /> -->
                <img class="instagram" src="img/instagram.svg" alt="Instagram" />
                <img class="youtube" src="img/youtube.svg" alt="Youtube" />
              </div>
          </div>
          <div class="footer-links">
            <div class="link-frame">
              <div class="t-in subtitle-2">NON-PROFIT INFORMATION</div>
              <div class="footer-non-profit-awards footer-display">
                <img class="image-8" src="img/image-8@2x.png" alt="image 8" />
                <div class="footer-charity-nav-logo footer-display">
                  <div class="footer-charity-nav-logo-img footer-display">
                    <img
                      class="charity-nav_-logo_-ver-1"
                      src="img/charitynav-logo-ver-1.png"
                      alt="CharityNav_Logo_Ver 1"
                    />
                  </div>
                </div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">IRS 990 Form</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">IRS Determination Letter</div>
              </div>
            </div>
            <div class="link-frame">
              <div class="t-in subtitle-2">CONTACT INFORMATION</div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Contact Us</div>
              </div>
              <div class="tertiary-mirage-2-text body-2-regular">EIN: 81-5025238</div>
              <div class="tertiary-mirage-2-text body-2-regular">+1-202-792-8060</div>
            </div>
            <div class="link-frame">
              <div class="t-in subtitle-2">GET INVOLVED</div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Donate</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Partner</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Invite</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Connect</div>
              </div>
            </div>
            <div class="link-frame">
              <div class="t-in subtitle-2">RESOURCES</div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Stories</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">Shop</div>
              </div>
              <div class="tertiary-mirage-2 tertiary-button">
                <div class="tertiary-mirage-2-text body-2-regular">About Us</div>
              </div>
            </div>
          </div>
          <div class="newsletter">
            <div class="join-our-newsletter heading-3">Join Our Newsletter</div>
            <div class="newsletter-input-frame footer-display">
              <div class="input">
                <div class="content-wrapper">
                  <div class="wrapper">
                    <div class="content-wrapper-1">
                      <input
                        class="content"
                        name="email"
                        placeholder="Your Email Address"
                        type="email"
                        required
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="secondary-button-fuchsia-blue secondary-button" onclick="document.forms['form15'].submit();">
                <div class="secondary-button-fuchsia-blue-text body-2-regular">Subscribe</div>
              </div>
            </div>
          </div>
          <p class="forest-planet-2025 body-2-regular">© ForestPlanet 2025. All rights reserved.</p>
        </div>
      </footer>
    </form>
    <script src="js/overlay-loader.js"></script>
    <script src="js/mobile-menu-overlay.js"></script>
    <script src="js/loader.js"></script>
    <script>
      /* Copyright (c) 2016 Tobias Buschor https://goo.gl/gl0mbf | MIT License https://goo.gl/HgajeK */

      if (!HTMLFormElement.prototype.reportValidity) {
        HTMLFormElement.prototype.reportValidity = function () {
          if (this.checkValidity()) return true;
          var btn = document.createElement("button");
          this.appendChild(btn);
          btn.click();
          this.removeChild(btn);
          return false;
        };
      }

      function SubmitForm(form_name) {
        var form = document.getElementsByName(form_name)[0];
        if (form.reportValidity()) {
          form.submit();
          if (window.submitted) window.submitted();
        }
      }
    </script>
    <script>
      // ===== Configuration =====
      var cardGridConfig = {
        desktop: {
          cardWidth: 350,
          gap: 30,
          initialRows: 2,
          rowsToAddOnLoad: 1,
          loadDelay: 600,
          staggerDelay: 50
        },
        mobile: {
          cardWidth: 333,
          gap: 24,
          initialRows: 4,
          rowsToAddOnLoad: 2,
          loadDelay: 400,
          staggerDelay: 30
        },
        triggerDistance: 500, // Distance from footer to trigger loading (px)
        consecutiveLoadDelay: 300 // Delay before checking if we need to load more (ms)
      };
      
      // ===== State =====
      var gridState = {
        currentVisibleRows: 0,
        isLoading: false,
        allCardsVisible: false,
        lastScrollPosition: 0
      };
      
      // ===== Helper Functions =====
      
      // Get config based on viewport width
      function getConfig() {
        return window.innerWidth < 902 ? cardGridConfig.mobile : cardGridConfig.desktop;
      }
      
      // Get visible card grid container
      function getVisibleContainer() {
        return window.innerWidth < 902 
          ? document.querySelector('.stories-mobile .card-grid')
          : document.querySelector('.stories-desktop-all-breakpoints .card-grid');
      }
      
      // Shuffle array (Fisher-Yates algorithm)
      function shuffleArray(array) {
        for (var i = array.length - 1; i > 0; i--) {
          var j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }
      
      // ===== Main Functions =====
      
      // Randomize the order of cards with improved distribution of quote cards
      function randomizeCards(container) {
        if (!container) return;
        
        // Separate quote cards and story cards
        var cards = Array.from(container.children);
        var quoteCards = cards.filter(card => card.classList.contains('quote-card'));
        var storyCards = cards.filter(card => !card.classList.contains('quote-card'));
        
        // Ensure we have enough story cards to separate quotes
        if (storyCards.length < 1) {
          console.warn("Not enough story cards to separate quotes");
          return;
        }
        
        // Shuffle both arrays
        shuffleArray(quoteCards);
        shuffleArray(storyCards);
        
        // Force proper distribution by positioning quotes explicitly
        var totalCards = cards.length;
        var numQuotes = quoteCards.length;
        
        // Step 1: Create an empty array with positions for the quotes
        var resultArray = new Array(totalCards);
        
        // Step 2: Calculate minimum spacing between quotes (at least 2 cards between them)
        var minQuoteSpacing = Math.min(3, Math.floor(totalCards / numQuotes));
        
        // Step 3: Place quotes first at well-spaced positions
        var lastQuotePos = -minQuoteSpacing; // Start with negative position to ensure first position can be near start
        
        // Place each quote card
        for (var i = 0; i < quoteCards.length; i++) {
          // Calculate next position (ensure minimum spacing)
          var nextPos;
          
          if (i === 0) {
            // First quote can be in first 3 positions
            nextPos = Math.floor(Math.random() * 3);
          } else {
            // Calculate a position with spacing between minQuoteSpacing and minQuoteSpacing*2
            var minPos = lastQuotePos + minQuoteSpacing;
            var maxPos = Math.min(totalCards - (numQuotes - i), minPos + minQuoteSpacing);
            
            // Ensure we don't exceed array bounds
            if (maxPos >= totalCards) maxPos = totalCards - 1;
            if (minPos >= maxPos) minPos = maxPos - 1;
            
            // Get a random position in this range
            nextPos = minPos + Math.floor(Math.random() * (maxPos - minPos + 1));
          }
          
          // Place quote if position is valid
          if (nextPos < totalCards) {
            resultArray[nextPos] = quoteCards[i];
            lastQuotePos = nextPos;
          }
        }
        
        // Step 4: Fill remaining positions with story cards
        for (var j = 0; j < totalCards; j++) {
          if (!resultArray[j] && storyCards.length > 0) {
            resultArray[j] = storyCards.shift();
          }
        }
        
        // Step 5: Final sanity check - if any positions are empty, fill them
        for (var k = 0; k < totalCards; k++) {
          if (!resultArray[k]) {
            // If we ran out of story cards, repeat the last one
            if (storyCards.length > 0) {
              resultArray[k] = storyCards.shift();
            } else if (k > 0) {
              // Clone the previous card if it's not a quote
              var prevCard = resultArray[k-1];
              if (!prevCard.classList.contains('quote-card')) {
                resultArray[k] = prevCard.cloneNode(true);
              }
            }
          }
        }
        
        // Step 6: Remove any null positions
        var orderedCards = resultArray.filter(card => card);
        
        // Create a document fragment with the ordered cards
        var fragment = document.createDocumentFragment();
        orderedCards.forEach(function(card) {
          fragment.appendChild(card);
        });
        
        // Update the container
        container.innerHTML = '';
        container.appendChild(fragment);
      }
      
      // Update grid layout for either mobile or desktop
      function updateCardGridLayout() {
        var container = getVisibleContainer();
        if (!container) return;
        
        var config = getConfig();
        var containerWidth = container.clientWidth;
        
        // Calculate columns (min 1, max 3)
        var columnsCount = Math.floor((containerWidth + config.gap) / (config.cardWidth + config.gap));
        columnsCount = Math.max(1, Math.min(columnsCount, 3));
        
        // Calculate visible cards count
        var visibleCount = columnsCount * gridState.currentVisibleRows;
        
        // Get all cards
        var allCards = container.querySelectorAll('.story-card, .quote-card');
        var totalCards = allCards.length;
        
        // Update grid state
        gridState.allCardsVisible = visibleCount >= totalCards;
        
        // Show or hide cards based on visible count
        allCards.forEach(function(card, index) {
          card.style.display = index < visibleCount ? "flex" : "none";
        });
        
        // Center cards and store data for infinite scroll
        container.style.justifyContent = "center";
        container.setAttribute('data-columns', columnsCount);
        container.setAttribute('data-visible-count', visibleCount);
        container.setAttribute('data-total-cards', totalCards);
        
        // Hide load more buttons
        var loadMoreButtons = document.querySelectorAll('.tertiary-button');
        loadMoreButtons.forEach(function(button) {
          button.style.display = 'none';
        });
      }
      
      // Load more cards with animation
      function loadMoreCards() {
        // Guard clauses
        if (gridState.isLoading || gridState.allCardsVisible) return false;
        
        gridState.isLoading = true;
        
        var container = getVisibleContainer();
        if (!container) {
          gridState.isLoading = false;
          gridState.allCardsVisible = true;
          return false;
        }
        
        // Get current data
        var config = getConfig();
        var columnsCount = parseInt(container.getAttribute('data-columns'));
        var visibleCount = parseInt(container.getAttribute('data-visible-count'));
        var totalCards = parseInt(container.getAttribute('data-total-cards'));
        
        // If all cards already visible, exit
        if (visibleCount >= totalCards) {
          gridState.isLoading = false;
          gridState.allCardsVisible = true;
          return false;
        }
        
        // Add more rows
        gridState.currentVisibleRows += config.rowsToAddOnLoad;
        
        // Calculate new visible count (limited to total available)
        var newVisibleCount = Math.min(columnsCount * gridState.currentVisibleRows, totalCards);
        
        // Show loader if we're actually adding cards
        var loader = newVisibleCount > visibleCount ? showLoader(container.parentElement) : null;
        
        // Simulate network delay for loading new cards
        setTimeout(function() {
          // Update visible cards
          var allCards = container.querySelectorAll('.story-card, .quote-card');
          var cardsToAnimate = [];
          
          // First collect cards to animate
          allCards.forEach(function(card, index) {
            if (index >= visibleCount && index < newVisibleCount) {
              card.style.display = "flex";
              card.style.opacity = "0";
              card.style.transform = "translateY(20px)";
              cardsToAnimate.push(card);
            }
          });
          
          // Update container data
          container.setAttribute('data-visible-count', newVisibleCount);
          
          // Hide loader if used
          if (loader) hideLoader(loader);
          
          // If we added the last cards, mark all as visible
          if (newVisibleCount >= totalCards) {
            gridState.allCardsVisible = true;
          }
          
          // Stagger animations for newly visible cards
          cardsToAnimate.forEach(function(card, i) {
            setTimeout(function() {
              // Add transition and animate in
              card.style.transition = "opacity 0.5s ease, transform 0.3s ease, box-shadow 0.3s ease";
              card.style.opacity = "1";
              card.style.transform = "translateY(0)";
              
              // Clean up styles after animation
              setTimeout(function() {
                // Save essential properties
                var opacity = card.style.opacity;
                var display = card.style.display;
                
                // Clear all inline styles
                card.removeAttribute("style");
                
                // Restore essential properties
                card.style.opacity = opacity;
                card.style.display = display;
              }, 500);
            }, config.staggerDelay * i); // Stagger based on index
          });
          
          // Allow loading more after a delay (but only if not all cards shown)
          setTimeout(function() {
            gridState.isLoading = false;
            
            // If we're still at bottom of page and have more cards, load them
            if (!gridState.allCardsVisible) {
              checkScrollPosition();
            }
          }, cardGridConfig.consecutiveLoadDelay);
        }, config.loadDelay);
        
        return true;
      }
      
      // Check scroll position and load more if needed
      function checkScrollPosition() {
        // Guard clauses
        if (gridState.isLoading || gridState.allCardsVisible) return;
        
        // Get current scroll position
        var currentScrollY = window.scrollY;
        
        // Avoid processing scroll events that are too close together
        // This prevents oscillation/flicker at page bottom
        if (Math.abs(currentScrollY - gridState.lastScrollPosition) < 20) return;
        
        gridState.lastScrollPosition = currentScrollY;
        
        // Get the footer position
        var footer = document.querySelector('.footer');
        if (!footer) return;
        
        // Check if we should load more cards based on footer position
        var footerPosition = footer.getBoundingClientRect().top;
        var windowHeight = window.innerHeight;
        
        if (footerPosition < windowHeight + cardGridConfig.triggerDistance) {
          loadMoreCards();
        }
      }
      
      // ===== Setup and Initialization =====
      
      // Initialize on page load
      window.addEventListener("load", function() {
        var config = getConfig();
        
        // Set initial rows
        gridState.currentVisibleRows = config.initialRows;
        
        // Randomize cards
        randomizeCards(getVisibleContainer());
        
        // Update grid layout
        updateCardGridLayout();
        
        // Set up infinite scroll
        window.addEventListener("scroll", checkScrollPosition);
        
        // Initial check after a short delay
        setTimeout(checkScrollPosition, 300);
      });
      
      // Update layout on window resize
      window.addEventListener("resize", function() {
        var config = getConfig();
        
        // We need to reset the rows when switching between mobile/desktop
        var oldWidth = window.innerWidth < 902 ? 'mobile' : 'desktop';
        var newWidth = getConfig() === cardGridConfig.mobile ? 'mobile' : 'desktop';
        
        if (oldWidth !== newWidth) {
          // Reset to initial rows for the new screen size
          gridState.currentVisibleRows = config.initialRows;
          gridState.allCardsVisible = false;
        }
        
        // Update layout
        updateCardGridLayout();
        
        // Check if we need to load more
        checkScrollPosition();
      });
    </script>
  </body>
</html>
